<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <meta name="author" content="Berlin Andrew">
    <meta name="description" content="Тесты на знание математики для детей от трех лет. Учимся считать от 1 до 10 и не только">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    

    <title>Учимся считать от 1 до 10 и не только (3+) </title>

    <link rel="stylesheet" href="styleExample.css">

  </head>

  <body>
   
    <header>

      <h1> Тесты на знание математики   </h1>
      <h2>  для детей от трех лет  </h2>
      <h3>    Учимся считать от 1 до 10 и не только  </h3>
      
    </header>

    <section>

        <!--h1> Тесты на знание математики </h1-->
        <h2> Сколько будет: </h2>
      
    <div class="form">
      <label for="fieldExample">
         1+1=?:
      </label>
      <input type="text" id="fieldExample" class="fieldExample">
      <input type="submit" value="Проверить решение" class="guessSubmit">
    </div>

    <div class="resultParas">
      <p class="guesses"></p>
      <p class="lastResult"></p>
      <p class="lowOrHi"></p>
    </div>

    </section>

    <!--footer>

      <br>
        <h2>Автор идеи: Берлин Андрей</h2>
        <br>
       <p><em>Я стремлюсь к созданию веб приложений, которые можно приминить к повседневной жизни.</em></p>
   
       <h3>Контакты</h3>
      
    <ul>

    <li>
        <b>Домашняя страница:</b>
        <a class= "button" href="https://berlinandrew.github.io/index.html">
        <strong>▶️ "Веб - страница Берлина Андрея".
        </strong>
        </a> Добро пожаловать!
       </li>

     <li>
       <address>
        По всем техническим вопросам пишите мне:<a href="mailto:andrew.berlin96@gmail.com"> на мой электронный адрес</a>.
       </address>
     </li>



     
     <li>Project maintained by <a href="https://berlinandrew.github.io/">Berlin Andrew</a></li>
     <li>Hosted on GitHub Pages: <a href="https://github.com/berlinandrew">berlinandrew</a></li>
     </ul>

      


    </footer-->


    <script>
      let randomNumber = 2/* Math.floor(Math.random() * 10)+1*/;
      const guesses = document.querySelector('.guesses');
      const lastResult = document.querySelector('.lastResult');
      const lowOrHi = document.querySelector('.lowOrHi');
      const guessSubmit = document.querySelector('.guessSubmit');
      const guessField = document.querySelector('.fieldExample');
      let guessCount = 1;
      let resetButton;

      function checkGuess() {
        let userGuess = Number(guessField.value);
        if (guessCount === 1) {
          guesses.textContent = 'Предыдущие решение:';
        }

        guesses.textContent += userGuess + ' ';

        if (userGuess === randomNumber) {
          lastResult.textContent = 'Поздравляю! Ты все правильно решил!';
          lastResult.style.backgroundColor = 'green';
          lowOrHi.textContent = '';
          solveNextExample();
        } else if (guessCount === 3) {
          lastResult.textContent = '!!!Попробуй еще раз!!!';
          lowOrHi.textContent = '';
          setGameOver();
        } else {
          lastResult.textContent = 'Неправильный ответ!';
          lastResult.style.backgroundColor = 'red';
          if(userGuess < randomNumber) {
            lowOrHi.textContent = 'Решение ниже равного!' ;
          } else if(userGuess > randomNumber) {
            lowOrHi.textContent = 'Решение выше равного!';
          }
        }

        guessCount++;
        fieldExample.value = '';
        fieldExample.focus();
      }

      guessSubmit.addEventListener('click', checkGuess);

      function setGameOver() {
        fieldExample.disabled = true;
        guessSubmit.disabled = true;
        resetButton = document.createElement('button');
        resetButton.textContent = 'ПОПРОБУЙ ЕЩЕ РАЗ';
        resetButton.style.fontSize = "40px";
        resetButton.style.background = "yellow";
        document.body.appendChild(resetButton);
        resetButton.addEventListener('click', resetGame);
        

      }

        


      function resetGame() {
        guessCount = 1;
        const resetParas = document.querySelectorAll('.resultParas p');
        
        /*resetParas.onclick = function() {
        document.location.href = "http://www.site.ru";
        }*/

        for(let i = 0 ; i < resetParas.length ; i++) {
          resetParas[i].textContent = '';
        }

        resetButton.parentNode.removeChild(resetButton);
        fieldExample.disabled = false;
        guessSubmit.disabled = false;
        fieldExample.value = '';
        fieldExample.focus();
        lastResult.style.backgroundColor = 'white';
        randomNumber = 2 /*Math.floor(Math.random() * 10) + 1*/;

      }

      function solveNextExample() {
        fieldExample.disabled = true;
        guessSubmit.disabled = true;
        resetButton = document.createElement('button');
        resetButton.textContent = 'ПЕРЕЙТИ К НОВОМУ ПРИМЕРУ';
        resetButton.style.fontSize = "40px";
        resetButton.style.background = "green";
        document.body.appendChild(resetButton);
        resetButton.addEventListener('click', nextExample);
        

      }

        


      function nextExample() {
        guessCount = 1;
        const resetParas = document.querySelectorAll('.resultParas p');
        
        /*resetParas.onclick = function() {
        document.location.href = "http://www.site.ru";
        }*/

        for(let i = 0 ; i < resetParas.length ; i++) {
          resetParas[i].textContent = '';
        }

        resetButton.parentNode.removeChild(resetButton);
        fieldExample.disabled = false;
        guessSubmit.disabled = false;
        fieldExample.value = '';
        fieldExample.focus();
        lastResult.style.backgroundColor = 'white';
        randomNumber = document.location.href = "http://www.site.ru";

      }
    </script>
  </body>
</html>
